{% extends 'base.html' %}
{% block content %}

{% load crispy_forms_tags %}


<div class="container recipe-detail-container">
    <div class="row">
        <div class="col-12">
            <h1 id="recipe-list-title" class="text-center decorated"><span> {{ recipe.name }} Recipe </span></h1>
        </div>
    </div>
    <div class="row h-25 mx-auto">
        <img src=" {{ recipe.featured_image.url }}" class="img-fluid mx-auto shadow-lg p-3 bg-body rounded" style="max-width: 65%; max-height: 70vh;"
            alt="sweets-recipes">
            
    </div>
    <div class="row mt-2 mx-auto bg-light.bg-gradient align-items-start fs-6 fw-bold mb-4" style="max-width: 65%; ">
       <div class="col-2">
           <i class="far fa-heart"></i> {{ recipe.number_of_likes }}
       </div>
       <div class="col-1">
        <i class="fa-regular fa-bookmark"></i>
       </div>
       <div class="col-3 text-center">
        Time: {{ recipe.cook_time }} 
        </div>
        <div class="col-6 text-end">
            {{ recipe.author }} | {{ recipe.created_on }}
        </div>

             
    </div>
    



    <div class="row g-0 mb-5">
        <div class="col-md-12">
           
            <h1 class="post-title">{{ recipe.name }}</h1>
            <!-- Post author goes before the | the post's created date goes after -->
            <p class="card-text">{{ recipe.description | safe }}</p>
            <h1>Ingredients: </h1>
                <p class="card-text">{{ recipe.ingredients | safe  }}</p>            
            <h1>Steps: </h1>
            <p class="card-text">{{ recipe.steps | safe }}</p>            
          
        </div>


    </div>
    <div class="row">
        <div class="col">
            <hr class="featurette-divider">
        </div>
    </div>
   

    <div class="row">
        <div class="col-md-12 mb-4  mt-3 ">
            <h2>Comments:</h2>
            {% for comment in comments %}
            <div class="row">
                <div class="comments" style="padding: 10px;">
                    <p class="font-weight-bold">written by:
                        <!-- The commenter's name goes here. Check the model if you're not sure what that is -->
                        {{ comment.name }}</p>
                    <div class="rounded fs-4" style=" background-color: rgba(234, 235, 159, 0.32);">
                    <!-- The body of the comment goes before the | -->
                    {{ comment.body | linebreaks }}
                </div>
                     
              
                 <!-- Our for loop ends here -->
                 {% endfor %}
            </div>
           
        </div>
    </div>
    <div class="row">
        <div class="col-md-12 mb-4 ">
            <div class="card-body">
                <!-- For later -->
                {% if commented %}
                <div class="alert alert-success" role="alert">
                    Your comment is awaiting approval
                </div>
                {% else %}
                {% if user.is_authenticated %}
    
                <h3>Leave a comment:</h3>
                <p>Logged as: {{ user.username }}</p>
                <form method="post" style="margin-top: 1.3em;">
                    {{ comment_form | crispy }}
                    {% csrf_token %}
                    <div class="col text-center font-weight-bold">
                    <button class="fs-5 border border-3 btn btn-outline-primary btn-light mb-3  mt-3" type="submit">Submit
                    </button>
                     </div>
                </form>
                {% endif %}
                {% endif %}
            </div>
        </div>
    </div>
    
</div>



{% endblock content %}